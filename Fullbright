-- Загрузка сервисов
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local UserInputService = game:GetService("UserInputService")
local Lighting = game:GetService("Lighting")

-- Сохранение исходных параметров освещения
local OriginalLighting = {
    Ambient = Lighting.Ambient,
    ColorShift_Bottom = Lighting.ColorShift_Bottom,
    ColorShift_Top = Lighting.ColorShift_Top
}

-- Настройки
local Settings = {
    FullbrightEnabled = false,
    GUIVisible = true
}

-- Проверка загрузки Fluent
if not Fluent then
    warn("Ошибка: Fluent не загрузился. Проверьте HTTP-запросы.")
    return
end

-- Создание GUI с Fluent
local Window = Fluent:CreateWindow({
    Title = "Fullbright",
    SubTitle = "by @zood3llotgk",
    TabWidth = 160,
    Size = UDim2.new(0, 400, 0, 300),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.Insert
})

-- Вкладка "Основное"
local MainTab = Window:AddTab({ Title = "Fullbright", Icon = "lightbulb" })
MainTab:AddToggle("FullbrightToggle", {
    Title = "Включить Fullbright",
    Default = false,
    Callback = function(Value)
        Settings.FullbrightEnabled = Value
        if Value then
            -- Активация Fullbright
            Lighting.Ambient = Color3.new(1, 1, 1)
            Lighting.ColorShift_Bottom = Color3.new(1, 1, 1)
            Lighting.ColorShift_Top = Color3.new(1, 1, 1)
        else
            -- Восстановление исходных параметров
            Lighting.Ambient = OriginalLighting.Ambient
            Lighting.ColorShift_Bottom = OriginalLighting.ColorShift_Bottom
            Lighting.ColorShift_Top = OriginalLighting.ColorShift_Top
        end
    end
})

-- Поддержка изменений освещения
Lighting.LightingChanged:Connect(function()
    if Settings.FullbrightEnabled then
        Lighting.Ambient = Color3.new(1, 1, 1)
        Lighting.ColorShift_Bottom = Color3.new(1, 1, 1)
        Lighting.ColorShift_Top = Color3.new(1, 1, 1)
    end
end)

-- Бинд на клавишу Insert для показа/скрытия GUI
UserInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if not gameProcessedEvent and input.KeyCode == Enum.KeyCode.Insert then
        Settings.GUIVisible = not Settings.GUIVisible
        Fluent:ToggleWindow(Settings.GUIVisible)
    end
end)
